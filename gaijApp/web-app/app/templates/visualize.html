
{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2>Visualize Graph</h2>

    <!-- Visualization Form -->
    <form id="visualize-form" class="row g-3">
        <!-- Visualization Type Dropdown -->
        <div class="col-md-6">
            <label for="visualization_type" class="form-label">Visualization Type:</label>
            <select id="visualization_type" name="visualization_type" class="form-select">
                <option value="full_graph">Full Graph</option>
                <option value="single_node">Single Node</option>
                <option value="property_value">Nodes by Property</option>
                <option value="relationship_type">Nodes by Relationship Type</option>
            </select>
        </div>

        <!-- Full Graph Fields -->
        <div id="full_graph_fields" class="collapse">
            <div class="col-md-6">
                <label for="limit_entries" class="form-label">Limit Entries (Optional):</label>
                <input type="number" id="limit_entries" name="limit_entries" class="form-control" placeholder="Enter limit">
            </div>
        </div>

        <!-- Single Node Fields -->
        <div id="single_node_fields" class="collapse">
            <div class="col-md-6">
                <label for="node_ids" class="form-label">Node IDs (Comma-Separated):</label>
                <input type="text" id="node_ids" name="node_ids" class="form-control" placeholder="Enter node IDs">
            </div>
        </div>

        <!-- Nodes by Property Fields -->
        <div id="property_value_fields" class="collapse">
            <div class="col-md-6">
                <label for="property_key" class="form-label">Property Key:</label>
                <input type="text" id="property_key" name="property_key" class="form-control" placeholder="Enter property key">
            </div>
            <div class="col-md-6">
                <label for="property_value" class="form-label">Property Value:</label>
                <input type="text" id="property_value" name="property_value" class="form-control" placeholder="Enter property value">
            </div>
        </div>

        <!-- Relationship Type Fields -->
        <div id="relationship_type_fields" class="collapse">
            <div class="col-md-6">
                <label for="relationship_type" class="form-label">Relationship Type:</label>
                <input type="text" id="relationship_type" name="relationship_type" class="form-control" placeholder="Enter relationship type">
            </div>
        </div>

        <!-- Submit Button -->
        <div class="col-12">
            <button type="submit" class="btn btn-primary">Visualize</button>
        </div>
    </form>

    <!-- Graph Placeholder -->
    <div id="graph-container" class="mt-5 text-center">
        <h3>Graph Visualization</h3>
        <img id="graph-image" src="https://source.unsplash.com/random/800x600" alt="Graph Placeholder" class="img-fluid">
    </div>
</div>

<script>
    const visualizationType = document.getElementById('visualization_type');

    // Handle visualization type changes
    visualizationType.addEventListener('change', () => {
        const type = visualizationType.value;

        // Collapse all fields
        document.querySelectorAll('.collapse').forEach(field => field.classList.remove('show'));

        // Expand the relevant fields
        if (type === 'full_graph') {
            document.getElementById('full_graph_fields').classList.add('show');
        } else if (type === 'single_node') {
            document.getElementById('single_node_fields').classList.add('show');
        } else if (type === 'property_value') {
            document.getElementById('property_value_fields').classList.add('show');
        } else if (type === 'relationship_type') {
            document.getElementById('relationship_type_fields').classList.add('show');
        }
    });
</script>
{% endblock %}
